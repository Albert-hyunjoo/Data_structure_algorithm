# 모듈 (Module)
* 모듈은 `def` 를 통해 정의하며, 함수의 객체와 참조가 함께 생성된다.
* 모듈이 아무런 값을 리턴하지 않는 경우에는 `프로시져` 라고 한다.

## 스택과 활성화 레코드에 대해

* 함수가 호출될 때마다 `활성화 레코드`가 생성되며, 함수의 정보가 `스택`에 기록이 된다.
    * 함수의 정보는 `반환값, 매개변수, 지역 변수, 반환 값/주소` 등으로 구성
* 메모리 구조는 크게 `5가지의 구조`가 있으며, 여기에 따라 용량이 실시간으로 달라진다.
    1) `기계어 코드` : 바로 실행이 가능한 코드 (어셈블리어)
    2) `전역 변수` : 글로벌하게 미리 정의된 변수에 해당 
    3) `스택` : 실질적인 함수 정보가 저장되는 양 / 쌓이는 형식 (FIFO)
    4) `잔여 공간` : 힙과 스택 사이의 Available Place
    5) `힙` : 위에서 쌓이는 형식 (LIFO)
* `활성화 레코드`는 다음과 같은 순서로 `PUSH`를 실시한다.
    1) 함수의 **실제 매개변수**를 스택에 저장
    2) **반환 주소**를 스택에 저장
    3) 스택의 **최상위 인덱스**를 함수의 지역 변수에 필요한 총량 만큼
    4) 함수로 건너뛴다 (JUMP)

## 모듈의 기본값

모듈을 생성할 때, 함수 또는 메서드에서 **가변 객체가 기본값**이 되어서는 안된다

### 잘못된 경우에는,
```python
# number_list가 가변이라 축적

def append(number, number_list = []):
    number_list.append(number)
    return number_list
```
### 올바르게 고친다면,
```python
# number_list가 불변이라 축적 X

def append(number, number_list = None):
    if number_list is None:
        number_list = []
    number_list.append(number)
    return number_list
```

## __init__.py 파일에 대해서
* 패키지는 `모듈`과 `__init__.py`가 같이 포함되어야 한다.

## __name__ 변수
* 파이썬은 `모듈`을 임포트할 때마다, `__name__` 변수를 만들어서, 모듈 이름을 저장
* 인터프리터에서 직접 import하는 것과, 터미널에서 바로 실행하면 그 차이가 있다.

## 컴파일된 바이트코드 모듈

* 컴파일러가 사용하는 `바이트 컴파일 코드`는 프로그램 로딩 시간을 줄이기 위해
* 주로 `-O` 플래그를 사용해 인터프리터 호출 시에는, `.pyo` 형식으로 파일이 저장
* `.pyo` 파일은 리버스 엔지니어링이 까다로워 라이브러리로 배포할 수도 있다.

## sys 모듈 (시스템 모듈)

* `sys.path`는 모듈 검색 경로를 담은 문자열 리스트이다.
* `sys.ps1`와 `sys.ps2`는 기본 및 보조 프롬프트 문자열을 정의한다. (>>>, ...)
* `sys.argv`는 명령 줄에 전달된 인수를 프로그램 내에서 사용이 가능하다.
```python
import sys
def main():
    for arg in sys.argv[1:]:
        print(arg)

if __name__ == "__main__":
    main()
```
```python
$ python 1_sys_example.py 로미오 줄리엣
# 로미오
# 줄리엣
```




